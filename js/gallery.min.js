function getDownloadLink(t){return'<button class="btn btn-sm btn-default pull-right" onclick="getFile('+t+');">Download&nbsp;<span class="glyphicon glyphicon-download"></span></button>'}function bindVideoError(){document.querySelector("source").addEventListener("error",function(){var t=document.createElement("div");t.innerHTML='<div class="text-center" style="margin:15px 0 28px;"><p>This video format cannot be streamed, but you can still download it below.</p></div>',this.parentNode.parentNode.replaceChild(t,this.parentNode)},!1)}$(document).ready(function(){var t=$_GET("_");parseInt(t)&&t>0&&$("#select_ADK_HIKER").val($_GET("_")),$("#select_ADK_HIKER").on("change",function(){window.location="gallery?_="+this.value}),$("#select_filter").on("change",function(){var t=document.querySelectorAll("li.gallery");if(""===this.value)for(var e=0;e<t.length;e++)t[e].style.display="";else for(var e=0;e<t.length;e++){var n=t[e].getAttribute("data-peaks").split(",");t[e].style.display=-1===n.indexOf(this.value)?"none":""}}),$(".photo").click(function(){var t=getDownloadLink(this.getAttribute("data-id"))+"<strong>"+this.getAttribute("data-un")+"</strong><br />"+this.getAttribute("data-peaks")+'<div class="hr"></div>'+this.getAttribute("data-desc");return document.getElementById("modal_gallery_label").innerHTML=this.children[0].getAttribute("alt"),document.getElementById("modal_gallery_desc").innerHTML=t,document.getElementById("modal_gallery_container").innerHTML=this.innerHTML.replace("imghover",""),!0}),$(".video").click(function(){var t=this.getAttribute("data-id"),e=this.children[0].innerHTML,n=getDownloadLink(this.getAttribute("data-id"))+"<strong>"+this.getAttribute("data-un")+"</strong><br />"+this.getAttribute("data-peaks")+'<div class="hr"></div>'+this.getAttribute("data-desc");document.getElementById("modal_gallery_label").innerHTML=e,document.getElementById("modal_gallery_desc").innerHTML=n;var i=document.createElement("video");return i.setAttribute("id","video"),i.setAttribute("controls","controls"),i.setAttribute("width","100%"),i.innerHTML='<source id="videosource" src="includes/getVideo.php?_='+t+'" type="video/'+e.split(".").pop()+'" />',document.getElementById("modal_gallery_container").innerHTML=i.outerHTML,bindVideoError(),!0})});