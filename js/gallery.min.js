function getDownloadLink(e){return'<button class="btn btn-sm btn-default pull-right" onclick="getFile('+e+');">Download&nbsp;<span class="glyphicon glyphicon-download"></span></button>'}function bindVideoError(){document.querySelector("source").addEventListener("error",function(){var e=document.createElement("div");e.innerHTML='<div class="text-center" style="margin:15px 0 28px;"><p>This video format cannot be streamed, but you can still download it below.</p></div>',this.parentNode.parentNode.replaceChild(e,this.parentNode)},!1)}$(document).ready(function(){$(".photo").click(function(){return document.getElementById("modal_gallery_label").innerHTML=this.children[0].getAttribute("alt"),document.getElementById("modal_gallery_desc").innerHTML=getDownloadLink(this.getAttribute("data-id"))+this.getAttribute("data-desc"),document.getElementById("modal_gallery_container").innerHTML=this.innerHTML.replace("imghover",""),!0}),$(".video").click(function(){var e=this.getAttribute("data-id"),t=this.children[0].innerHTML;document.getElementById("modal_gallery_label").innerHTML=t,document.getElementById("modal_gallery_desc").innerHTML=getDownloadLink(e)+this.getAttribute("data-desc");var n=document.createElement("video");return n.setAttribute("id","video"),n.setAttribute("controls","controls"),n.setAttribute("width","100%"),n.innerHTML='<source id="videosource" src="includes/getVideo.php?_='+e+'" type="video/'+t.split(".").pop()+'" />',document.getElementById("modal_gallery_container").innerHTML=n.outerHTML,bindVideoError(),!0}),$("#select_filter").on("change",function(){var e=document.querySelectorAll("li.gallery");if(""===this.value)for(var t=0;t<e.length;t++)e[t].style.display="";else for(var t=0;t<e.length;t++){var n=e[t].getAttribute("data-peaks").split(",");e[t].style.display=-1===n.indexOf(this.value)?"none":""}})});